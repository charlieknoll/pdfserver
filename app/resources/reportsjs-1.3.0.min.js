!function(e){var t,s=this||(0,eval)("this"),i=s.document;s.navigator,s.JSON;t=function(e,t){var a;function o(e,t,s){this.element=e,this.element.dataset.rpGroupIndex=s,this.options=t,this.headers=[];for(var i=e.getElementsByClassName(t.groupHeaderClass),a=0;a<i.length;a++)this.element===i[a].parentElement?this.headers.push(i[a].cloneNode(!0)):i[a].parentElement.classList.contains(t.groupClass)||console.log("Error: Found group header which is not direct child of group element, be sure to include thead and tbody inside table elements");this.firstPage=null}function n(t,s,i,a){if(this.element=t,this.options=s.options,this.setPaperType(a),!i){if(e.utils.wrapInner(t,"div","class",e.wrapperClass),this.innerContent=this.element.childNodes[0],s.pages.length>0){var o,n,r=this.element.childNodes[0];for(n=0;n<s.headers.length;++n)o=s.headers[n].cloneNode(!0),r.insertBefore(o,null);for(this.firstFooter=null,n=0;n<s.footers.length;n++)0===n?(this.firstFooter=s.footers[n].cloneNode(!0),r.insertBefore(this.firstFooter,null)):r.insertBefore(s.footers[n].cloneNode(!0),null)}else s.footers.length>0&&(this.firstFooter=s.footers[0]);this.insertSpacer(),this.availableHeight=0,this.innerHeight=e.utils.height(this.element),this.nodesAdded=0}}function r(e,t,a){this.options=new Options(a),this.target=e,t.className.includes(this.options.pageClass)||(t.classList.add(this.options.pageClass),console.log("WARNING: The page container class'"+this.options.pageClass+"' was not found on source, responsive elements may not display correctly."));for(var o=null,n=this.options.prefix+"ps-",r=0;r<t.classList.length;r++)t.classList[r].substring(0,n.length)==n&&(o=t.classList[r]);this.options.setPaperType(o);var l=this.options.hiddenCss(),p=i.head||i.getElementsByTagName("head")[0],h=i.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=l:h.appendChild(i.createTextNode(l)),p.appendChild(h),t.classList.remove(o),this.defaultPaperType=this.options.paperType(),t.classList.add(this.defaultPaperType),this.blankPageCt=0,this.init(e,t),this.generate(!0),s[this.options.chromePdfOptionsPropertyName]=this.options.chromeOptions(),s[this.options.renderCompletePropertyName]=!0}NodeList.prototype.last||(NodeList.prototype.last=function(){return this[this.length-1]}),Node.prototype.deleteChildren=function(){for(;this.firstChild;)this.removeChild(this.firstChild)},(e=e||{}).version="1.2.0",e.wrapperClass="rp-parent",e.hidden={},e.hiddenBreakPoints=[["a6"],["a5","a6-ls"],["a4","a5-ls"],["letter","legal"],["letter-ls","tabloid","ledger-ls"],["a3","a4-ls"],["legal-ls"],["a2","a3-ls"],["ledger","tabloid-ls"],["a1","a2-ls"],["a0","a1-ls"],["a0-ls"]],Options=function(t){this.prefix="rp-";var s={showLoading:!1,showToolbar:!0,hideSource:!0,base64EncodeImages:!1,format:null,orientation:null,marginLeft:.7,marginTop:.7,marginRight:.7,marginBottom:.7,imageDPI:96,embedFonts:!0,pageClass:this.prefix+"page",fullPageClass:this.prefix+"full-page",pageHeaderClass:this.prefix+"page-header",hidePageHeadersClass:this.prefix+"hide-page-headers",pageFooterClass:this.prefix+"page-footer",hidePageFootersClass:this.prefix+"hide-page-footers",alignBottomClass:this.prefix+"page-footer",groupClass:this.prefix+"group",groupHeaderClass:this.prefix+"group-header",keepTogetherClass:this.prefix+"keep-together",forcePageBreakClass:this.prefix+"force-page-break",hideOnFirstPageClass:this.prefix+"hide-on-first-page",hideOnLastPageClass:this.prefix+"hide-on-last-page",hiddenClass:this.prefix+"hidden",pageCountClass:this.prefix+"page-count",pageNumberClass:this.prefix+"page-number",idPageNumberClass:this.prefix+"id-page-number",minimumGroupChildren:1,pdfRenderingUrl:"render.reportsjs.com",renderAuthKey:"",fontDelay:100,parseableNodeNames:["P","BLOCKQUOTE"],keepTogetherNodeNames:["TR","THEAD","TFOOT","CANVAS"],groupNodeNames:["TABLE","DL","DETAILS","OL","UL"],groupHeaderNodeNames:["DT","THEAD","COLGROUP","SUMMARY"],chromePdfOptionsPropertyName:"RESPONSIVE_PAPER_CHROME_PDF_OPTIONS",renderCompletePropertyName:"RESPONSIVE_PAPER_FINISHED"};t&&(t.format&&(t.format=t.format.toLowerCase()),t.landscape&&(t.orientation="landscape"),!1===t.landscape&&(t.orientation="portrait")),e.utils.extend(this,s),e.utils.extend(this,t)},Options.prototype.setPaperType=function(e){var t=this.prefix+"ps-";null===e&&(e=t+"letter"),e.endsWith("-ls")&&!this.orientation&&(this.orientation="landscape"),this.orientation||(this.orientation="portrait"),e.endsWith("-ls")&&(e=e.substring(0,e.length-3)),e.length>t.length&&!this.format&&e.startsWith(t)&&(this.format=e.split(t)[1])},Options.prototype.paperType=function(){var e=this.prefix+"ps-"+this.format;return"landscape"==this.orientation&&(e+="-ls"),e},Options.prototype.hiddenCss=function(){var t=this,s="",i=t.format,a=!1;"landscape"==t.orientation&&(i+="-ls");for(var o=0;o<e.hiddenBreakPoints.length;o++)a||e.hiddenBreakPoints[o].forEach(function(e){e===i&&(a=!0)}),a&&e.hiddenBreakPoints[o].forEach(function(e){s+="."+t.prefix+"hidden-"+e+" {display: none} "});return s},Options.prototype.chromeOptions=function(){var e={};return e.format=this.format.substring(0,1).toUpperCase()+this.format.substring(1),e.margin={},e.margin.top=0,e.margin.left=0,e.margin.right=0,e.margin.bottom=0,e.marginTop=0,e.marginLeft=0,e.marginRight=0,e.marginBottom=0,e.landscape="landscape"===this.orientation,e},e.utils={extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var s in arguments[t])arguments[t].hasOwnProperty(s)&&(e[s]=arguments[t][s]);return e},wrapInner:function(e,t,s,a){"string"==typeof t&&(t=i.createElement(t));for(e.appendChild(t).setAttribute(s,a);e.firstChild!==t;)t.appendChild(e.firstChild)},outerHeight:function(e,t){var i=e.offsetHeight;if(!t)return i;var a=s.getComputedStyle(e);return i+=parseInt(a.marginTop)+parseInt(a.marginBottom)},height:function(e){var t=s.getComputedStyle(e,null);return parseInt(t.height)-Math.round(parseFloat(t.paddingTop))-Math.round(parseFloat(t.paddingBottom))},clean:function(e,t){for(var s=0;s<e.childNodes.length;s++){var i=e.childNodes[s];8===i.nodeType&&t||3===i.nodeType&&!/\S/.test(i.nodeValue)?(e.removeChild(i),s--):1===i.nodeType&&this.clean(i,t)}},nodesToArray:function(e){return Array.prototype.slice.call(e,0)},isDescendant:function(e,t){for(var s=t.parentNode;null!=s;){if(s==e)return!0;s=s.parentNode}return!1},poll:function(e,t,s,i,a){var o=Number(new Date)+(i||2e3);a=a||100,function i(){e()?t():Number(new Date)<o?setTimeout(i,a):s(new Error("timed out for "+e+": "+arguments))}()}},o.prototype.isFirstPage=function(e){return!this.firstPage||this.firstPage.element===e.element},o.prototype.showHiddenOnFirstPage=function(e,t){if(e!==this.firstPage&&0!==t.childNodes.length)for(var s=t.getElementsByClassName(this.options.groupHeaderClass),i=0;i<s.length;i++)if(s[i].parentElement.dataset.rpGroupIndex===this.element.dataset.rpGroupIndex){var a=s[i].getElementsByClassName(this.options.hideOnFirstPageClass);for(j=0;j<a.length;j++)a[j].classList.remove(this.options.hideOnFirstPageClass)}},n.prototype.setPaperType=function(t){this.element.classList.contains(t)||this.element.classList.add(t),this.paperType=t,this.innerHeight=e.utils.height(this.element)},n.prototype.hasParentOfClass=function(e,t){return!!e.parentElement.classList.contains(t)||this.element!=e&&this.hasParentOfClass(e.parentElement,t)},n.prototype.insertSpacer=function(){var e=this.element.childNodes[0],t=i.createElement("div");t.style.height="0px",t.innerHTML="<span style='visibility:hidden;'></span>",t.classList.add("rp-spacer"),e.insertBefore(t,this.firstFooter),this.firstFooter=t},n.prototype.setAvailableHeight=function(){var t=this.element.childNodes[0];this.availableHeight=this.innerHeight-e.utils.outerHeight(t,!0)},n.prototype.checkAvailableHeight=function(){return this.setAvailableHeight(),this.availableHeight>0},n.prototype.showElements=function(e,t,s){for(var i=e.childNodes.length-1;i>-1;i--){var a=e.childNodes[i];a.classList&&a.classList.contains(t)&&(a.style.display="initial"),a.classList&&!a.classList.contains(s)&&this.showElements(a,t,s)}},n.prototype.deleteElementsByClassName=function(t){e.utils.nodesToArray(this.element.getElementsByClassName(t)).forEach(function(e){e.parentNode.removeChild(e)})},n.prototype.insertElement=function(e,t,s,i){var a=e.insertBefore(t,s);return a.classList&&a.classList.contains(this.options.hidePageHeadersClass)&&this.deleteElementsByClassName(this.options.pageHeaderClass),a.classList&&a.classList.contains(this.options.hidePageFootersClass)&&this.deleteElementsByClassName(this.options.pageFooterClass),a.classList&&a.classList.contains(this.options.fullPageClass)&&(this.deleteElementsByClassName(this.options.pageFooterClass),this.deleteElementsByClassName(this.options.pageHeaderClass)),i||this.showElements(a,this.options.hideOnFirstPageClass,this.options.groupClass),this.setAvailableHeight(),this.nodesAdded++,a},n.prototype.removeElement=function(e){e.parentNode.removeChild(e),this.setAvailableHeight()},r.prototype.init=function(t,s){var i=this;i.target=t;var a=e.utils.nodesToArray(s.getElementsByTagName("CANVAS"));i.canvasObjs=[];var o=0;a.forEach(function(e){var t={};""===e.id&&(e.id="id-rp-"+o++),t.id=e.id,t.el=e.cloneNode(!0),t.el.getContext("2d").drawImage(e,0,0),i.canvasObjs.push(t)}),e.utils.nodesToArray(s.getElementsByClassName(i.options.forcePageBreakClass)).forEach(function(e){for(;s!=e.parentNode;)e.parentNode.containsPageBreak=!0,e=e.parentNode}),i.initId=s.id,i.removeAttributes(s,"contenteditable"),i.options.groupNodeNames.map(function(e){return i.addClassToElements(s,e,i.options.groupClass)}),i.options.groupHeaderNodeNames.map(function(e){return i.addClassToElements(s,e,i.options.groupHeaderClass)}),i.headers=s.getElementsByClassName(i.options.pageHeaderClass),i.footers=s.getElementsByClassName(i.options.pageFooterClass),i.setPageInnerHeight(s),i.pages=[],i.lastPage=new n(s,i,!1,i.options.paperType()),i.pages=[i.lastPage],i.groups=[]},r.prototype.removeAttributes=function(e,t){Array.prototype.slice.call(e.querySelectorAll("["+t+"]"),0).map(function(e){e.removeAttribute(t)})},r.prototype.addDefaultClass=function(e,t){e.classList.add(t)},r.prototype.addClassToElements=function(e,t,s){var i=this;Array.prototype.slice.call(e.getElementsByTagName(t),0).map(function(e){i.addDefaultClass(e,s)})},r.prototype.updateCanvasEls=function(){var e=this;e.canvasObjs.forEach(function(t){var s=e.target.querySelector("#"+t.id);s&&s.getContext("2d").drawImage(t.el,0,0)})},r.prototype.generate=function(t){if(t&&(e.startTime=(new Date).getTime()),self=this,self.splitPages(),self.updateCanvasEls(),self.setPageProperties(),self.alignBottomElements(),t){var s=(new Date).getTime();console.log("Formatting finished in "+(s-e.startTime)/1e3+" seconds")}self.options.debug&&self.addConsolePage()},r.prototype.alignBottomElements=function(){for(var e=0;e<this.pages.length;e++){var t=this.pages[e];t.setAvailableHeight();var s=t.element.getElementsByClassName("rp-spacer");if(t.availableHeight>0&&s.length>0)s[0].style.height=t.availableHeight+"px"}},r.prototype.upsertGroup=function(e,t){for(var s=null,i=0;i<this.groups.length;i++)if(this.groups[i].element===e){(s=this.groups[i]).firstPage||(s.firstPage=t);break}return s||((s=new o(e,this.options,this.groups.length)).firstPage=t,this.groups.push(s)),s},r.prototype.setPageProperties=function(){var t=this,s=e.utils.nodesToArray(t.target.getElementsByClassName(t.options.idPageNumberClass)).map(function(e){return{el:e,id:e.getAttribute("data-id")}});s=s.filter(function(e){var t=i.getElementById(e.id);if(t)return e.target=t,e});for(var a=1;a<=t.pages.length;a++){for(var o=t.pages[a-1],n=o.element.getElementsByClassName(t.options.pageNumberClass),r=0;r<n.length;r++)n[r].innerHTML=a;for(n=o.element.getElementsByClassName(t.options.pageCountClass),r=0;r<n.length;r++)n[r].innerHTML=t.pages.length;s=s.filter(function(t){if(!e.utils.isDescendant(o.element,t.target))return t;t.el.innerHTML=a}),o.element.id=t.initId+"Page"+a,o.element.style.display=""}e.utils.nodesToArray(t.lastPage.element.getElementsByClassName(t.options.hideOnLastPageClass)).forEach(function(e){e.classList.add(t.options.hiddenClass)})},r.prototype.addConsolePage=function(){var t=new n(this.lastPage.element.cloneNode(!1),this,!0);t.element.classList.remove(this.defaultPaperType),this.pages.push(t),t.setPaperType(this.options.paperType()),t.id="rp-console-page";var s=i.createElement("h1");s.innerText="Console",t.element.appendChild(s);var a=i.createElement("div"),o="<ul class='rp-logs'>";e.logs.forEach(function(e){o+="<li>"+e+"</li>"}),o+="</ul>",a.innerHTML=o,t.element.appendChild(a),this.lastPage.element.parentNode.appendChild(t.element)},r.prototype.insertPage=function(e){var t=this.lastPage.element.cloneNode(!1);t.classList.remove(this.defaultPaperType),this.defaultPaperType=e||this.defaultPaperType,this.lastPage.element.parentNode.insertBefore(t,this.lastPage.element);var s,i,a=new n(t,this,!1,this.defaultPaperType);if(this.pages.splice(this.pages.length-1,0,a),this.pages.length>2)for(s=a.element.getElementsByClassName(this.options.hideOnFirstPageClass),i=0;i<s.length;i++)s[i].classList.remove(this.options.hideOnFirstPageClass);if(2==this.pages.length)for(s=this.lastPage.element.getElementsByClassName(this.options.hideOnFirstPageClass),i=0;i<s.length;i++)(this.lastPage.hasParentOfClass(s[i],this.options.pageHeaderClass)||this.isPageHeader(s[i]))&&s[i].classList.remove(this.options.hideOnFirstPageClass);return a.setAvailableHeight(),a},r.prototype.isKeepTogetherNode=function(e){return this.options.keepTogetherNodeNames.indexOf(e.nodeName)>-1||!!e.classList&&(e.classList.contains(this.options.keepTogetherClass)||e.classList.contains(this.options.groupHeaderClass)||e.classList.contains(this.options.fullPageClass))},r.prototype.isParseableNode=function(e){return 3===e.nodeType||this.options.parseableNodeNames.indexOf(e.nodeName)>-1},r.prototype.isPageBand=function(e){if(!e.classList)return!1;return e.classList.contains(this.options.pageHeaderClass)||e.classList.contains(this.options.pageFooterClass)},r.prototype.isGroupBand=function(e){if(!e.classList)return!1;return e.classList.contains(this.options.groupClass)},r.prototype.isGroupHeader=function(e){if(!e.classList)return!1;return e.classList.contains(this.options.groupHeaderClass)},r.prototype.isForcePageBreak=function(e){if(!e.classList)return!1;return e.classList.contains(this.options.forcePageBreakClass)},r.prototype.isPageHeader=function(e){if(!e.classList)return!1;return e.classList.contains(this.options.pageHeaderClass)},r.prototype.convertImageTobase64=function(e){e.nodeName},r.prototype.splitArray=function(e,t,s,i,a){var o=s.offsetHeight,n=t.availableHeight,r=e.splice(0,e.length-i);if(s.lastChild.data=r.join(" "),o!=s.offsetHeight&&t.setAvailableHeight(),t.availableHeight>=0&&0===e.length)return e;if(a<=1&&t.availableHeight>=0&&n<0)return e;var l=0;return l=t.availableHeight>0?i-Math.round(a/2):i+Math.round(a/2),this.splitArray(r.concat(e),t,s,l,Math.abs(l-i))},r.prototype.moveTextBetweenNodesFast=function(e,t,s){if(s.availableHeight<1)return!1;var i=t.textContent.trim().replace(/[\n\r]+/g,"").replace(/\s{2,10}/g," ").split(" "),a=Math.round(i.length/2);return 0!==e.childNodes.length&&3===e.lastChild.nodeType||(e.innerHTML=e.innerHTML+" "),sourceArray=this.splitArray(i,s,e,a,a),0===sourceArray.length&&s.checkAvailableHeight()?(t.parentElement.removeChild(t),!1):(t.data=sourceArray.join(" "),!0)},r.prototype.moveTextBetweenNodes=function(e,t,s){var i=t.textContent.trim().replace(/[\n\r]+/g,"").replace(/\s{2,10}/g," ").split(" ");i.reverse();var a=e.offsetHeight,o="";for(0!==e.childNodes.length&&3===e.lastChild.nodeType||(e.innerHTML=e.innerHTML+" ");i.length>0&&(a===e.offsetHeight||s.checkAvailableHeight());)a=e.offsetHeight,o=i.pop(),e.lastChild.data=e.lastChild.data+" "+o;return 0===i.length&&s.checkAvailableHeight()?(t.parentElement.removeChild(t),!1):(i.push(o),i.reverse(),t.data=i.join(" "),e.lastChild.data=e.lastChild.data.substring(0,e.lastChild.data.length-o.length-1),!0)},r.prototype.moveParseableChildNodes=function(e,t,s){var i=s.childNodes;if(0===i.length)return!1;for(var a=0;a<i.length;a++){var o=i[a];if(3===o.nodeType){if(this.moveTextBetweenNodesFast(t,o,e))return!0}else{if(t.insertBefore(o.cloneNode(!1),null),!e.checkAvailableHeight())return t.removeChild(t.lastChild),!0;if(this.moveParseableChildNodes(e,t.lastChild,o))return!0;s.removeChild(o)}--a}return!1},r.prototype.shouldPageBreak=function(e){return!!this.isForcePageBreak(e)&&(this.pageBreakElement!==e&&(this.pageBreakElement=e,!0))},r.prototype.resetGroupBandSource=function(t,s,i,a){var o=e.utils.height(s),n=s.getElementsByClassName(this.options.groupHeaderClass);for(j=0;j<n.length;j++)n[j].parentNode===s&&(o-=e.utils.outerHeight(n[j],!0));if(0===o){for(var r=i.getElementsByClassName(this.options.groupHeaderClass);r.length>0;)r[0].remove();t.removeElement(s),a.firstPage=null}for(var l=i.childNodes[0],p=0;p<a.headers.length;p++)t.insertElement(i,a.headers[p].cloneNode(!0),l,a.isFirstPage(t))},r.prototype.insertGroupBand=function(e,t,s,i){var a=this.upsertGroup(s,e),o=e.insertElement(t,s.cloneNode(!1),i,a.isFirstPage(e));return!!this.moveChildElements(s,e,o,null,a)&&(this.resetGroupBandSource(e,o,s,a),!0)},r.prototype.moveChildElements=function(t,s,i,a,o){var n,r=this,l=t.childNodes;if(0===l.length&&s.availableHeight>0)return!1;var p=!o||o.firstPage===s;s.insertingElementHTML=t.cloneNode(!1).outerHTML;for(var h=0;h<l.length;h++){var d=l[h];if((!d.style||"hidden"!==d.style.visibility)&&!r.isPageBand(d)){if(!0===r.shouldPageBreak(d))return d.classList.remove(r.options.forcePageBreakClass),s.pageBreak=!0,s.pageBreakPaperType=d.className==r.options.prefix+"ps-default"?r.options.paperType():d.className,!0;var g=r.isKeepTogetherNode(d);if(r.isGroupBand(d)&&!g){if(r.insertGroupBand(s,i,d,a))return!0}else{var c=r.isParseableNode(d),f=s.availableHeight>(d.offsetHeight||0)&&!d.containsPageBreak,u=d.cloneNode(f||g||!c&&0===d.children.length),m=0,y=!1;if(!f&&d.children.length>0&&!c&&!g)for(var v=d.offsetHeight;d.childNodes.length>0&&m<s.availableHeight&&!r.isForcePageBreak(d.childNodes[0]);)u.insertBefore(d.removeChild(d.childNodes[0]),null),(m=v-d.offsetHeight)>s.availableHeight&&(d.insertBefore(u.removeChild(u.lastChild),d.childNodes[0]),y=!0);if(r.groups.map(e=>e.showHiddenOnFirstPage(s,u)),n=s.insertElement(i,u,a,p),u.classList&&u.classList.contains("rp-contain")&&s.availableHeight<0&&(u.style.maxHeight=s.availableHeight+(d.offsetHeight?d.offsetHeight:d.scrollHeight)-1+"px",s.setAvailableHeight()),s.availableHeight<0||y){if(g||!c&&0===d.children.length)return s.removeElement(n),s.setAvailableHeight(),!0;if(n.childNodes.length>0)if(0===m)n.deleteChildren(),s.setAvailableHeight();else for(;!s.checkAvailableHeight();)d.insertBefore(n.removeChild(n.lastChild),d.childNodes[0]);return c?r.moveParseableChildNodes(s,n,d):r.moveChildElements(d,s,n,null,o),!0}if(d.childNodes.length>0&&r.isForcePageBreak(d.childNodes[0]))return s.pageBreak=!0,d.childNodes[0].classList.remove(r.options.forcePageBreakClass),!0;if(r.isGroupBand(d))e.utils.nodesToArray(n.getElementsByClassName(r.options.hideOnLastPageClass)).forEach(function(e){e.classList.add(r.options.hiddenClass)})}d.parentNode.removeChild(d),r.options.convertImageTobase64&&r.convertImageTobase64(n),--h}}return!1},r.prototype.setPageInnerHeight=function(t){this.pageInnerHeight=e.utils.height(t)},r.prototype.splitPages=function(e){this.lastPage.setAvailableHeight();var t=this.lastPage.availableHeight,s=this.insertPage(e);if(this.moveChildElements(this.lastPage.innerContent,s,s.innerContent,s.firstFooter)){if(s.pageBreak&&!this.splitPages(s.pageBreakPaperType))return!1;if(this.lastPage.setAvailableHeight(),t===this.lastPage.availableHeight){if(0!==this.blankPageCt)return console.log("Error: Infinite loop avoided, check report design for 'keep-together', 'full-page' or 'group-header' nodes that are too large to fit on one page"),console.log("Error: Layout engine could not add content to the page container. Possible solutions:"),console.log("- Increase page height by removing landscape or selecting a larger paper format."),console.log("- Shrink items so they can fit on a page, e.g. use max-height on images or canvas elements"),console.log("- Check report design for 'keep-together' or 'group-header' nodes that are too large to fit on one page"),console.log("- Add rp-contain class to element that is not able to fit on one page"),console.log("Info: Element HTML:"),void console.log("<xmp>"+this.pages[this.pages.length-2].insertingElementHTML+"</xmp>");this.blankPageCt++,console.log("Could not add any content to page, try removing force-page-break from first group or shrinking items so they can fit on a page")}return this.splitPages()}return this.lastPage.element.remove(),this.lastPage=s,this.pages.pop(this.pages.length-1),1===this.blankPageCt&&(this.lastPage.element.remove(),this.pages.pop(this.pages.length-1),this.lastPage=this.pages[this.pages.length-1]),!1},a=console.log,e.logs=[],console.log=function(t){e.logs.push((new Date).toISOString().substring(11,23)+" : "+t),a.apply(console,arguments)},e.createTarget=function(e,t){var s=i.createElement("div");return s.innerHTML="<div id='previewPane' class='rp-target'><span style='visibility:hidden;'>\x3c!--first element --\x3e</span></div>",e.insertBefore(s,t),s.childNodes[0]},e.timeout=function(e){return new Promise(t=>setTimeout(t,e))},e.waitFor=async function(t,s,i,a){let o=0;const n=i/a;for(;o<n;){if(o++,await t(...s))return!0;await e.timeout(a)}return!1},e.checkImages=async function(e){console.log("checking "+e.length+" images...");for(var t=0;t<e.length;t++){if(!e[t].complete)return!1;console.log(e[t].src)}return s.scrollBy(0,i.body.scrollHeight),s.scrollTo(0,0),!0},e.getPagePaperTypes=function(){return this.reports[0].pages.map(e=>e.paperType)},e.showPaperType=function(e){var t=this.reports[0];return t.pages.map(function(t){t.paperType===e?t.element.style.display="":t.element.style.display="none"}),t.options.orientation=null,t.options.format=null,t.options.setPaperType(e),t.options.chromeOptions()},e.hideParents=function(e){!function e(t,s){Array.prototype.map.call(t.children,function(e){s===e?t.classList.add("rp-outside-parent"):e.style.display="none"}),t.parentNode&&"BODY"!==t.nodeName&&e(t.parentNode,t)}(e.parentNode,e),e.classList.add("rp-render")},e.preview=async function(t,a){this.reports=[];if(console.log("responsive paper server side version: "+e.version),t||(t=e.utils.nodesToArray(i.querySelectorAll(".rp-page"))),t&&t.length>0&&"BODY"==t[0].nodeName&&(console.log("WARNING: rp-page cannot be set on the BODY element"),t[0].classList.remove("rp-page"),t=null),!t||0===t.length){t=[];var o=i.createElement("div");o.classList.add("rp-page"),s.document.body.appendChild(o),Array.prototype.slice.call(s.document.body.childNodes,0).map(function(e){e!==o&&"SCRIPT"!==e.nodeName&&"LINK"!=e.nodeName&&o.appendChild(e)}),t.push(o)}e.hideParents(t[0]),target=t[0].parentNode;for(var n=0;n<t.length;n++){e.utils.clean(t[n],!0);var l=new r(target,t[n],a);this.reports.push(l),target.classList.add("rp-pdf")}target.style.overflow="",target.style.maxHeight=""},e.renderAsPDF=function(e,t,s){},e.refresh=function(e,t){},e.renderAsExcel=function(e,t){}},"function"==typeof define&&define.amd?define(["exports","require"],t):"object"==typeof exports&&"object"==typeof module?t(module.exports||exports):t(s.rp={})}();